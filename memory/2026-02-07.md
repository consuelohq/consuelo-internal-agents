# 2026-02-07

## session — kiro setup check

- ko asked if i have access to linear and other tools
- checked kiro environment: no mcp servers configured yet (no `.kiro/settings/mcp.json`)
- `gh` cli is authenticated and working (kokayicobb account, keyring-based token)
- no linear, slack, or mem0 mcp connections in kiro
- discussed options: mcp server config vs direct api for linear
- waiting on ko's preference for how to set up linear access

## session — kiro web ui investigation

- ko asked if we could edit kiro's code to make serve-web show the full kiro ui (with agent/chat features) instead of vanilla vs code
- explored the app bundle: kiro's agent features are in the electron-browser layer, deeply tied to electron
- serve-web uses a separate rust binary that serves vs code's web client — completely different codepath
- making it serve kiro's ui would require rebuilding the web workbench, not a quick patch
- all code is minified/bundled — fragile to patch in place
- conclusion: not feasible as a hack. suggested screen sharing over tailscale as the practical alternative
- ko was patient but noted the exploration took too long — need to be faster about recognizing dead ends

## session — ipad access brainstorm continued

- ko asked about using librechat (already running) to access kiro from ipad
- clarified: librechat is the opencode/claude agent, not kiro — different systems
- ko asked if proxying kiro's api through librechat would get them banned — advised yes, likely TOS violation
- ko already has librechat accessible from ipad via tailscale — that solves "ai agent from ipad" for the opencode setup
- kiro specifically from ipad = screen sharing or wait for native support
- key insight: ko may not need kiro specifically on ipad, just an ai coding agent — librechat already covers that

## session — kiro powers idea + decision to drop ipad pursuit

- ko shared the kiro powers blog post, asked if we could build something with powers to solve the ipad access problem
- i analyzed the powers architecture: POWER.md + MCP server config + hooks/steering bundled together
- powers activate *inside* kiro sessions — they serve tools to the agent, not from the agent to external clients
- proposed a creative workaround: userTriggered hook + file-based message queue + tiny web server over tailscale
- ko considered it but decided to drop the ipad-kiro pursuit entirely
- **decision: ko will use kiro as a dedicated coding tool on the mac, and use librechat on ipad for agent access**
- ko's words: "ill just have kiro be grade A coder ill figure it out"
- clean separation: kiro = coding, librechat = mobile agent access

## session — kiro notifications

- ko asked to turn off kiro notifications (the ones that pop up when the agent does stuff)
- set `notifications.doNotDisturbMode` to `alwaysOff` in kiro user settings
- ko prefers no notification interruptions while working

## session — cleanup kiro serve-web

- ko asked to shut down the kiro serve-web setup (process + tailscale serve on 8888) — was eating ram
- kiro serve-web process was already dead, removed tailscale serve on port 8888
- ko specified "not what i previously had though" — meaning don't touch the other tailscale serves (443, 8443, 8444, 8445)

## session — kiro capabilities check-in

- ko asked what they can just hand off to me without questions
- explained my full autonomy: file read/write/edit, shell commands, web search, code diagnostics, refactoring, scaffolding, hooks
- only exceptions: deletions (always ask), public-facing actions, destructive commands
- ko seems to be getting oriented on what kiro can do vs their other tools (librechat/opencode)
- no new setup needed — everything's wired in

## session — automated dev pipeline (opencode)

big brain dump session. ko laid out the entire automated dev pipeline vision:

### the pipeline
1. **entry points**: chat (ask to build something) or linear specs (tasks ready to code)
2. **kiro codes remotely**: opencode spawns kiro via ACP, kiro reads/writes code via github API (github-dev scripts). zero local file changes. 5-10 sessions can run simultaneously.
3. **PR creation**: opencode creates PR tagged `kiro` + `kiro-small`/`kiro-big`
4. **automated review**: pr-watcher plugin polls every 30 min, triggers review with `--auto` flag
5. **deploy check**: small changes auto-merge → sleep 5min → check railway logs
6. **retry loop**: deploy failure → kiro-agent gets error context → fixes → new commit
7. **testing**: consuelo-test skill verifies deployed changes against requirements

### key architecture decisions
- **everything remote** — kiro uses github-dev scripts to read/write via github API, not local files
- **parallel sessions** — multiple kiro instances on different branches, no conflicts
- **ACP for orchestration, MCP for tools (later)** — ACP is the control channel, MCP servers can enhance kiro's tool access
- **no MCPs for now** — kiro uses shell commands to call scripts. MCP servers are a future enhancement
- **kiro decides complexity** — if task is complex, kiro creates linear specs (tagged `kiro`) and stops. if straightforward, kiro codes.
- **model for cheap reviews**: glm-4.7
- **item 5 (linear-spec-watcher)**: handled by another system, dropped from this build

### what was built

**new files:**
- `.opencode/skills/kiro-agent/SKILL.md` — full instructions for opencode to orchestrate kiro
- `.opencode/skills/kiro-agent/kiro_agent.py` — KiroSession orchestrator class
- `.opencode/skills/kiro-agent/linear_helper.py` — CLI for kiro to create linear issues from shell
- `.opencode/skills/consuelo-test/SKILL.md` — post-deploy testing skill
- `.opencode/plugins/pr-watcher.ts` — polls github every 30min for kiro-tagged PRs

**modified files:**
- `.opencode/skills/github-dev/github_dev.py` — added `write`, `commit`, `staged`, `unstage`, `create-branch`, `create-pr`, `delete` CLI subcommands. also updated `_save_state`/`resume` to persist full staged file content (not just paths)
- `.opencode/skills/github-dev/SKILL.md` — documented new CLI commands
- `.opencode/skills/github-review/review.py` — added `--auto` flag, big/small change detection, `_handle_auto_mode`, `_merge_pr`, `_check_railway_deploy`, `_send_slack_notification`, `_write_deploy_failure`
- `.opencode/skills/github-review/SKILL.md` — documented --auto flag and railway deploy flow

### what's next (for ko to hand off to different agents)
- smoke test full end-to-end: spawn kiro via ACP → kiro uses github-dev → PR created → review runs
- configure SLACK_WEBHOOK_URL env var for slack notifications
- test railway CLI access (`railway logs`)
- potentially add MCP servers to kiro later for richer github/linear integration
